(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],u=0,v=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&v.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={"financing-search":0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;i.push([5,"chunk-vendors"]),a()})({"0b9c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAoAQMAAADjUclwAAAABlBMVEUAAAA5bvzBqJ/OAAAAAXRSTlMAQObYZgAAAA9JREFUCNdjYGBIoCJkAAA6bg5BFIlRMgAAAABJRU5ErkJggg=="},"20f2":function(t,e,a){t.exports=a.p+"img/tab-loading.6c13.gif"},"258b":function(t,e,a){"use strict";var n=a("7837"),s=a.n(n);s.a},"402b":function(t,e){t.exports=base},5:function(t,e,a){t.exports=a("6979")},6080:function(t,e,a){},6979:function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("8bbf"),s=a.n(n),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Main")],1)},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"financing-search"},[n("div",{attrs:{id:"header"}},[n("div",{staticClass:"nav-top"}),n("div",{staticClass:"search-box"},[n("div",{staticClass:"top-area"},[n("span",{directives:[{name:"show",rawName:"v-show",value:0===t.inputNum.length&&!t.showInput,expression:"inputNum.length === 0 && !showInput"}],staticClass:"placeholder"},[t._v("\n          输入基金代码、名称或简称\n        ")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.showInput,expression:"!showInput"}],staticClass:"num-area"},[t._v("\n          "+t._s(t.inputNum.replace(/\s/g," "))+"\n        ")]),n("img",{staticClass:"cursor",attrs:{src:a("0b9c")}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputNum,expression:"inputNum"}],staticClass:"actual-input",attrs:{type:"text",placeholder:"输入基金代码、名称或简称"},domProps:{value:t.inputNum},on:{focus:t.inputFocus,blur:t.inputBlur,input:function(e){e.target.composing||(t.inputNum=e.target.value)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.inputNum.length>0,expression:"inputNum.length > 0"}],staticClass:"clears",on:{click:t.emptyInput}})]),n("div",{staticClass:"cancel-search",on:{click:t.goBack}},[t._v("取消")])])]),n("div",{staticClass:"content-result"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.inputNum,expression:"!inputNum"}],staticClass:"content"},[!t.isTarget&&t.historyData.length>0?n("div",{staticClass:"history-search"},[n("div",{staticClass:"history-title"},[n("div",[t._v("历史搜索")]),n("div",{staticClass:"del-icon",on:{click:t.deleteHistory}})]),n("div",{staticClass:"history-items"},[t._l(t.historyData,(function(e,a){return n("div",{key:a,staticClass:"item-search-out"},[n("div",{staticClass:"item-search",on:{click:function(a){return t.addSearch(e)}}},[t._v(t._s(e))])])})),n("div",{staticClass:"more-expand",on:{click:t.expandAllRecord}})],2)]):t._e(),t.isTarget?n("div",{staticClass:"tab-type"},[n("div",{staticClass:"tab-item active"},[t._v("定投排行")]),n("div",{staticClass:"tab-item",staticStyle:{"margin-left":"6px"}},[t._v("\n          人气定投\n        ")]),n("div",{staticClass:"active-bar"})]):n("div",{staticClass:"tab-type"},[n("div",{staticClass:"tab-item active"},[t._v("人气定投")]),n("div",{staticClass:"tab-item collect"},[t._v("持仓/收藏")]),n("div",{staticClass:"tab-item"},[t._v("我的足迹")]),n("div",{staticClass:"active-bar"})]),n("div",{staticClass:"fund-table"},[t._m(0),n("div",{staticClass:"no-login none"},[t._m(1),n("div",{staticClass:"no-login-word"},[t._v("登录查看我的自选")]),n("div",{staticClass:"login-btn",on:{click:t.goLogin}},[t._v("立即登录")])]),n("div",{staticClass:"finance-table"},[n("div",{staticClass:"table-head"},[n("div",{staticClass:"tab-head-item"},[t._v("基金名称(代码)")]),n("div",{staticClass:"tab-head-item"},[t._v("\n              "+t._s(1===t.tabIndex&&t.isTarget||0===t.tabIndex&&!t.isTarget?"乐友累计定投(次)":"近1年定投收益率")+"\n            ")]),t._m(2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex&&t.isTarget,expression:"tabIndex === 0 && isTarget"}],staticClass:"table-body"},[t._l(t.sortedInvestLists,(function(e,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.sortedInvestLists.length>0,expression:"sortedInvestLists.length > 0"}],key:a,staticClass:"table-tr",on:{click:function(a){return t.enterDetail(e)}}},[n("div",{staticClass:"table-td"},[n("div",{staticClass:"td-order",class:a<=2?"three":""},[t._v("\n                  "+t._s(a+1)+".\n                ")]),n("div",{staticClass:"fund-name"},[n("div",{staticClass:"name-word"},[t._v(t._s(e.name))]),n("div",[t._v(t._s(e.prdtCode))])])]),n("div",{staticClass:"table-td",style:{color:e.rate&&-1!==e.rate.indexOf("-")?"#5E9F3B":"#fc3438"}},[t._v("\n                "+t._s(e.rate?e.rate:"--%")+"\n              ")]),n("div",{staticClass:"table-td"},[n("div",{class:"0"===e.isCurrency?"select-btn":"select-btn disabled",on:{click:function(a){return a.stopPropagation(),t.selectFinance(e)}}},[t._v("\n                  选择\n                ")])])])})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.sortedInvestLists.length,expression:"sortedInvestLists.length === 0"}],staticClass:"no-data"},[t._v("\n              暂无数据\n            ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.sortedInvestLists.length>=t.pageSize,expression:"sortedInvestLists.length >= pageSize"}],staticClass:"pull-up-word"},[t._v("\n              上拉加载更多\n            ")])],2),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex&&t.isTarget||0===t.tabIndex&&!t.isTarget,expression:"\n              (tabIndex === 1 && isTarget) || (tabIndex === 0 && !isTarget)\n            "}],staticClass:"table-body"},[t._l(t.hotInvestLists,(function(e,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.hotInvestLists.length>0,expression:"hotInvestLists.length > 0"}],key:a,staticClass:"table-tr",on:{click:function(a){return t.enterDetail(e)}}},[n("div",{staticClass:"table-td"},[n("div",{staticClass:"td-order",class:a<=2?"three":""},[t._v("\n                  "+t._s(a+1)+".\n                ")]),n("div",{staticClass:"fund-name"},[n("div",{staticClass:"name-word"},[t._v(t._s(e.name))]),n("div",{staticStyle:{display:"inline-block",float:"left",width:"auto",height:"18px","font-size":"13px","line-height":"18px"}},[n("span",[t._v("近1年定投收益率")]),n("span",{staticStyle:{"margin-left":"3px","text-align":"left"},style:{color:e.rate&&-1!==e.rate.indexOf("-")?"#5E9F3B":"#fc3438"}},[t._v("\n                      "+t._s(e.rate?e.rate:"--%")+"\n                    ")])])])]),n("div",{staticClass:"table-td",staticStyle:{color:"#4A4A4A"}},[t._v(t._s(e.num))]),n("div",{staticClass:"table-td"},[n("div",{class:"0"===e.isCurrency?"select-btn":"select-btn disabled",on:{click:function(a){return a.stopPropagation(),t.selectFinance(e)}}},[t._v("\n                  选择\n                ")])])])})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.hotInvestLists.length,expression:"hotInvestLists.length === 0"}],staticClass:"no-data"},[t._v("\n              暂无数据\n            ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.hotInvestLists.length>=t.pageSize,expression:"hotInvestLists.length >= pageSize"}],staticClass:"pull-up-hot-word"},[t._v("\n              上拉加载更多\n            ")])],2),t.isTarget?t._e():n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex,expression:"tabIndex === 1"}],staticClass:"table-body"},[t._l(t.possessInvests,(function(e,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.possessInvests.length>0,expression:"possessInvests.length > 0"}],key:a,staticClass:"table-tr",on:{click:function(a){return t.enterDetail(e)}}},[n("div",{staticClass:"table-td"},[n("div",{staticClass:"fund-name"},[n("div",{staticClass:"name-word"},[t._v(t._s(e.prdtName))]),n("div",[n("span",[t._v(t._s(e.prdtCode))]),e.isHold?n("span",{staticClass:"host-fund-sign"},[t._v("持仓")]):t._e()])])]),n("div",{staticClass:"table-td",style:{color:e.yieldRate&&-1!==e.yieldRate.indexOf("-")?"#5E9F3B":"#fc3438"}},[t._v("\n                "+t._s(e.yieldRate?e.yieldRate:"--%")+"\n              ")]),n("div",{staticClass:"table-td"},[n("div",{class:"0"===e.isCurrency?"select-btn":"select-btn disabled",on:{click:function(a){return a.stopPropagation(),t.selectFinance(e)}}},[t._v("\n                  选择\n                ")])])])})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.possessInvests.length,expression:"possessInvests.length === 0"}],staticClass:"no-data"},[t._v("\n              暂无数据\n            ")])],2),t.isTarget?t._e():n("div",{directives:[{name:"show",rawName:"v-show",value:2===t.tabIndex,expression:"tabIndex === 2"}],staticClass:"table-body"},[t._l(t.recordInvests,(function(e,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.recordInvests.length>0,expression:"recordInvests.length > 0"}],key:a,staticClass:"table-tr",on:{click:function(a){return t.enterDetail(e)}}},[n("div",{staticClass:"table-td"},[n("div",{staticClass:"fund-name"},[n("div",{staticClass:"name-word"},[t._v(t._s(e.prdtName))]),n("div",[t._v(t._s(e.prdtCode))])])]),n("div",{staticClass:"table-td",style:{color:e.rate&&-1!==e.rate.indexOf("-")?"#5E9F3B":"#fc3438"}},[t._v("\n                "+t._s(e.rate?e.rate:"--%")+"\n              ")]),n("div",{staticClass:"table-td"},[n("div",{class:"0"===e.isCurrency?"select-btn":"select-btn disabled",on:{click:function(a){return a.stopPropagation(),t.selectFinance(e)}}},[t._v("\n                  选择\n                ")])])])})),n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.recordInvests.length,expression:"recordInvests.length === 0"}],staticClass:"no-data"},[t._v("\n              暂无数据\n            ")])],2)])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.inputNum,expression:"inputNum"}],staticClass:"search-result"},[t._l(t.resultData,(function(e,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.resultData.length>0,expression:"resultData.length > 0"}],key:a,staticClass:"item-box",on:{click:function(a){return t.enterDetail(e)}}},[n("div",{staticClass:"result-item"},[n("div",{staticClass:"search-icon"}),n("div",{staticClass:"data-word1"},[t._v(t._s(e.prdtCode))]),n("div",{staticClass:"data-word2"},[t._v(t._s(e.prdtName))]),n("div",{staticClass:"data-select"},[n("div",{class:"0"===e.isCurrency?"select-btn":"select-btn disabled",on:{click:function(a){return a.stopPropagation(),t.selectFinance(e,!0)}}},[t._v("\n              选择\n            ")])])])])})),n("div",{staticClass:"no-result-data"},[t._v("暂无匹配结果")])],2)]),t._m(3),t._m(4),n("div",{staticClass:"no-support-tooltip"},[t._v("\n    该产品暂不支持"+t._s(t.isTarget?"目标止盈":"定投计算")+"\n  ")])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"load-animation none"},[n("div",{staticClass:"load-icon"},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a("20f2"),alt:""}})]),n("div",{staticClass:"load-word"},[t._v("正在加载中")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"no-login-icon"},[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a("db47"),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-head-item"},[a("span",[t._v("操作")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"keyboard"}},[a("ul",{staticClass:"board-ul"},[a("li",[a("span",[t._v("940")]),a("span",[t._v("1")]),a("span",[t._v("2")]),a("span",[t._v("3")])]),a("li",[a("span",[t._v("94")]),a("span",[t._v("4")]),a("span",[t._v("5")]),a("span",[t._v("6")])]),a("li",[a("span",[t._v("空格")]),a("span",[t._v("7")]),a("span",[t._v("8")]),a("span",[t._v("9")])]),a("li",[a("span",{attrs:{id:"change"}},[t._v("中文")]),a("span",[t._v("000")]),a("span",[t._v("00")]),a("span",[t._v("0")])]),a("div",{staticClass:"delete"}),a("div",{staticClass:"key-search"},[a("span",[t._v("搜索")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clear-dialog none"},[a("div",{staticClass:"center"},[a("div",{staticClass:"titlec"},[t._v("确定清空搜索历史？")]),a("div",{staticClass:"left"},[t._v("取消")]),a("div",{staticClass:"right"},[t._v("确定")])])])}],l=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("6b54"),a("ac6a"),a("7b3e")),d=a.n(l),u=a("402b"),v=a.n(u),p=a("bf9b"),h=a.n(p),f={get_sorted_invest:"/reqxml?action=27401&path=/time_invest/calcu_sorted_invest",get_hot_invest:"/reqxml?action=27401&path=/time_invest/hot_invest",get_calcu_search:"/reqxml?action=27401&path=/time_invest/calcu_search",get_collect_hold:"/reqxml?action=27401&path=/time_invest/collect_hold",get_foot_print:"/reqxml?action=27401&path=/time_invest/foot_print"};function g(t,e){return new Promise((function(a,n){h.a.run(t,e,a,n)}))}var m=function(t){return g(f.get_sorted_invest,t)},b=function(t){return g(f.get_calcu_search,t)},_=function(t){return g(f.get_collect_hold,t)},w=function(t){return g(f.get_foot_print,t)},C=a("7dff"),y=a.n(C);function x(t,e){return new Promise((function(a,n){h.a.run(t,e,a,n)}))}var I={url:{getSelfStockList:"/reqlocal?selfstocklist=",getAppUserType:"/reqlocal?appUserType=",isLogin:"/reqlocal?weakaccount=&weaktoken=&jyloginflag=&account="},throttle:function(t,e,a){var n,s,i,o=null,r=0;a||(a={});var c=function(){r=!1===a.leading?0:(new Date).getTime(),o=null,i=t.apply(n,s),o||(n=s=null)};return function(){var l=(new Date).getTime();r||!1!==a.leading||(r=l);var d=e-(l-r);return n=this,s=arguments,d<=0||d>e?(o&&(clearTimeout(o),o=null),r=l,i=t.apply(n,s),o||(n=s=null)):o||!1===a.trailing||(o=setTimeout(c,d)),i}},isLogin:function(t){var e=this;x(e.url.isLogin).then((function(e){if(e){var a=e.WEAKACCOUNT,n=e.ACCOUNT,s=e.WEAKTOKEN,i=e.JYLOGINFLAG,o={login:!1,uid:a,account:n,weakLogin:!1};s&&""!=s&&"($WEAKTOKEN)"!=s&&"undefined"!=typeof s&&(o.weakLogin=!0),i>1&&(o.login=!0),"function"==typeof t&&t(o)}else t()}))}},N=I;function A(t,e){var a;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=T(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,r=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){r=!0,i=t},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw i}}}}function T(t,e){if(t){if("string"===typeof t)return D(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?D(t,e):void 0}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var L={name:"Main",components:{},data:function(){return{loading:!1,loadTable:!1,timer:null,pageNum:1,hotPageNum:1,pageSize:10,investLoading:!1,isBottom:!1,hotLoading:!1,isHotBottom:!1,inputNum:"",showInput:!1,historyData:[],tabIndex:0,sortedInvestLists:[],hotInvestLists:[],possessInvests:[],recordInvests:[],resultData:[],isTarget:"target"===v.a.getUrlParameter("from"),timeout:null}},methods:{getFixedInvest:function(){var t=this;m({pageNum:this.hotPageNum,pageSize:this.pageSize,sortName:"grandExectTimes",type:1}).then((function(e){$(".loader-wrapper").hide();var a=e.BINDATA?JSON.parse(e.BINDATA):{},n=a.code;a.msg;v.a.log(a),"0"===n?t.hotInvestLists=a.resultData:alert("对不起，计算器开了个小差～")})),this.isTarget&&m({pageNum:this.pageNum,pageSize:this.pageSize,type:1}).then((function(e){$(".loader-wrapper").hide();var a=e.BINDATA?JSON.parse(e.BINDATA):{},n=a.code;a.msg;v.a.log(a),"0"===n?t.sortedInvestLists=a.resultData:alert("对不起，计算器开了个小差～")}))},getPossessInvest:function(){var t=this;$(".no-login").hide(),$(".finance-table").hide(),$(".load-animation").show(),_({clientNo:"($account)",type:1}).then((function(e){$(".load-animation").hide(),$(".finance-table").show();var a=e.BINDATA?JSON.parse(e.BINDATA):{},n=a.code;a.msg;v.a.log(a),"0"===n?t.possessInvests=a.list:alert("对不起，计算器开了个小差～")}))},getRecordInvest:function(){var t=this;$(".no-login").hide(),$(".finance-table").hide(),$(".load-animation").show(),y.a.readAll("footprint_homeV4.js",(function(e){h.a.run("/reqlocal?account=","",(function(a){var n=a.ACCOUNT;if(v.a.log(e),"undefined"!==typeof e&&e[n]){var s=e[n],i=[];s.forEach((function(t,e){t.prdtList.forEach((function(t,e){2==t.prdtType&&i.push(t)}))})),i.length>0&&(t.recordInvests=[],w({prdtCodeList:i.map((function(t){return t.prdtCode})).join()}).then((function(e){setTimeout((function(){$(".load-animation").hide(),$(".finance-table").show()}),600);var a=e.BINDATA?JSON.parse(e.BINDATA):{},n=a.code;a.msg;v.a.log(a),"0"===n?t.recordInvests=a.list:alert("对不起，计算器开了个小差～")})))}else setTimeout((function(){$(".load-animation").hide(),$(".finance-table").show()}),600)}))}))},goBack:function(t){v.a.href("http://action:3413")},emptyInput:function(t){this.inputNum="",$(".actual-input").focus(),t.preventDefault()},inputFocus:function(){},inputBlur:function(){},enterDetail:function(t){var e=t.name||t.prdtName;this.isTarget||this.handleFootprint(t.prdtCode,e,t.rate||t.yieldRate,20,(function(){v.a.href("http://action:10061/?fullscreen=1&&shownavigationbar=0&&url=/licai/detail/fund-v2/detail.htm?productCode=".concat(t.prdtCode))}))},selectFinance:function(t,e){if(t.isCurrency&&"1"===t.isCurrency)return $(".no-support-tooltip").fadeIn(),void setTimeout((function(){$(".no-support-tooltip").fadeOut()}),2e3);if(this.isTarget)d.a.saveObject({financing_aip_choose_target_param:JSON.stringify({prdtCode:t.prdtCode,prdtId:t.prdtId,prdtName:encodeURIComponent(t.prdtName||t.name)})},(function(){v.a.href("http://action:3413")}));else{var a=t.name||t.prdtName;this.historyData.unshift(a);var n,s=[],i=A(this.historyData);try{for(i.s();!(n=i.n()).done;){var o=n.value;-1===s.indexOf(o)&&s.push(o)}}catch(r){i.e(r)}finally{i.f()}this.historyData=s,this.historyData.length>20&&this.historyData.splice(this.historyData.length-1,1),y.a.insert("historyRecord.js",{historyRecord:this.historyData},(function(){v.a.log("success")})),this.handleFootprint(t.prdtCode,a,t.rate||t.yieldRate,20,(function(){y.a.insert("prdtId.js",{prdtId:t.prdtId},(function(){v.a.href("http://action:3413")}))}))}},goLogin:function(){v.a.href("http://action:10090/?jsfuncname=loginLoad()")},getHistory:function(t){var e=this;y.a.getFileData("historyRecord.js",(function(a){v.a.log(a),a&&a.historyRecord&&(e.historyData=a.historyRecord,t&&t())}),(function(){alert("获取历史数据失败")}))},deleteHistory:function(){var t=this;y.a.deleteAll("historyRecord.js",(function(){t.historyData=[]}),(function(){alert("记录删除失败")}))},judgeParentH:function(){this.$nextTick((function(){$(".more-expand").removeClass("rotate");var t=[],e=[];if($(".item-search-out").each((function(a,n){v.a.log(n.offsetTop),n.offsetTop>=2*$(".item-search-out").height()&&t.push(n),n.offsetTop==$(".item-search-out").height()&&e.push(n)})),t.length>0&&($(".more-expand").show(),t.forEach((function(t){$(t).hide()}))),e.length>1){var a=0;e.forEach((function(t){a+=$(t).width()})),a+$(".more-expand").width()>$(".history-items").width()&&$(e[e.length-1]).hide()}}))},expandAllRecord:function(){var t=this;$(".more-expand").hasClass("rotate")?($(".content-result").animate({scrollTop:0},1),v.a.isIOS()?setTimeout((function(){t.judgeParentH()}),260):this.judgeParentH()):($(".more-expand").addClass("rotate"),$(".item-search-out").each((function(t,e){$(e).show()})))},addSearch:function(t){this.inputNum=t},getSearchData:function(t){var e=this;if(!t)return $(".no-result-data").hide(),void(this.resultData=[]);this.timer=setTimeout((function(){b({keyword:t}).then((function(t){var a=t.BINDATA?JSON.parse(t.BINDATA):{},n=a.code;a.msg;v.a.log(a),"0"===n?(e.resultData=a.resultData,0===a.resultData.length?$(".no-result-data").show():$(".no-result-data").hide()):alert("对不起，计算器开了个小差～")}))}),300)},getMoreData:function(){var t=this;t.investLoading=!0,t.pageNum++,m({pageNum:this.pageNum,pageSize:this.pageSize,type:1}).then((function(e){var a=e.BINDATA?JSON.parse(e.BINDATA):{},n=a.code;a.msg;v.a.log(a),"0"===n?(t.investLoading=!1,t.sortedInvestLists=t.sortedInvestLists.concat(a.resultData),a.resultData.length<t.pageSize?(t.isBottom=!0,$(".pull-up-word").text("暂无更多内容")):$(".pull-up-word").text("上拉加载更多")):alert("对不起，计算器开了个小差～")}))},getMoreHotData:function(){var t=this;t.hotLoading=!0,t.hotPageNum++,m({pageNum:this.hotPageNum,pageSize:this.pageSize,sortName:"grandExectTimes",type:1}).then((function(e){var a=e.BINDATA?JSON.parse(e.BINDATA):{},n=a.code;a.msg;v.a.log(a),"0"===n?(t.hotLoading=!1,t.hotInvestLists=t.hotInvestLists.concat(a.resultData),a.resultData.length<t.pageSize?(t.isHotBottom=!0,$(".pull-up-hot-word").text("暂无更多内容")):$(".pull-up-hot-word").text("上拉加载更多")):alert("对不起，计算器开了个小差～")}))},handleFootprint:function(t,e,a,n,s){n=n||15;var i=new Date,o="",r=i.getMonth()+1>9?i.getMonth()+1:"0"+(i.getMonth()+1),c=i.getDate()>9?i.getDate():"0"+i.getDate();o=i.getFullYear()+""+r+c;var l={},d=[],u={},v="";y.a.readAll("footprint_homeV4.js",(function(a){h.a.run("/reqlocal?account=","",(function(i){v=i.ACCOUNT;var r={};if(r["prdtCode"]=t||"--",r["prdtName"]=e||"--",r["prdtType"]="2",l["prdtList"]=[],l["prdtList"][0]=r,l["formatDate"]=o,u=$.extend({},a),"undefined"!==typeof a[v]){var c=[];c=c.concat(a[v]);for(var p=0;p<a[v].length;p++){if(a[v][p].formatDate==o){c[p].prdtList.splice(0,0,r);break}c.splice(0,0,[]),c[0]=$.extend({},l);break}for(var h=0,f=0,g=0;g<c.length;g++){for(var m=0;m<c[g].prdtList.length;m++)f++,t==c[g].prdtList[m].prdtCode&&(h++,h>1&&(c[g].prdtList.splice(m,1),f--)),f>n&&(c[g].prdtList.splice(m,1),f--);0==c[g].prdtList.length&&c.splice(g,1)}d=c}else d[0]=$.extend({},l);u[v]=d,y.a.insert("footprint_homeV4.js",u,(function(t){s&&s()}))}))}))}},watch:{inputNum:function(t,e){var a=this;this.getSearchData(t),t||this.isTarget||this.$nextTick((function(){$(".item-search-out").each((function(t,e){$(e).show()})),$(".more-expand").hasClass("rotate")||a.judgeParentH()}))}},mounted:function(){var t=this,e=this;e.getHistory((function(){t.judgeParentH()})),e.getFixedInvest(),window.GoBackOnLoad=function(){e.inputNum||e.isTarget||($(".item-search-out").each((function(t,e){$(e).show()})),$(".more-expand").hasClass("rotate")||e.judgeParentH())},window.loginLoad=function(){1===e.tabIndex?e.getPossessInvest():2===e.tabIndex&&e.getRecordInvest()},v.a.isIphoneX()?($(".nav-top").addClass("iphoneX"),$("#keyboard").css("padding-bottom","30px")):v.a.isIPhone()&&$(".nav-top").addClass("iphone"),this.$nextTick((function(){$(".content-result").css("top",$("#header").height()+"px"),$(".actual-input").focus(),e.showInput=!0,$(".cursor").hide(),$("#keyboard").hide(),$(document)[0].addEventListener("touchstart",(function(t){var e=$(".top-area");e.is(t.target)||0!==e.has(t.target).length?$(".actual-input").focus():$(".actual-input").blur()})),$(".content-result").scroll((function(){e.$nextTick((function(){var t=$(".content-result").height(),a=$(".content-result")[0].scrollHeight,n=$(".content-result").scrollTop();!e.inputNum&&0===e.tabIndex&&e.isTarget&&t+n+10>=a&&!e.investLoading&&!e.isBottom&&($(".pull-up-word").text("加载中..."),e.getMoreData()),!e.inputNum&&(e.isTarget&&1===e.tabIndex||!e.isTarget&&0===e.tabIndex)&&t+n+10>=a&&!e.hotLoading&&!e.isHotBottom&&($(".pull-up-hot-word").text("加载中..."),e.getMoreHotData())}))})),$("#keyboard").click((function(t){var a=this;"搜索"===$(t.target).text()?($("#keyboard").slideUp(300),$(".cursor").hide()):"中文"===$(t.target).text()?(t.stopPropagation(),e.showInput=!0,e.$nextTick((function(){$(a).hide(),$(".cursor").hide(),$(".actual-input").focus()}))):$(t.target).text()?e.inputNum.length<=20&&(e.inputNum="空格"===$(t.target).text()?e.inputNum+" ":e.inputNum+$(t.target).text()):e.inputNum=e.inputNum.substring(0,e.inputNum.length-1)})),$(".tab-item").click((function(t){e.tabIndex=$(t.target).index(),$(this).addClass("active").siblings().removeClass("active");var a=$(t.target)[0].offsetLeft+($(t.target).width()-$(".active-bar").width())/2;$(".active-bar").css({transform:"translateX("+a+"px)"}),e.isTarget||1!==e.tabIndex&&2!==e.tabIndex?$(".no-login").hide():N.isLogin((function(t){t.login?1===e.tabIndex?e.getPossessInvest():2===e.tabIndex&&e.getRecordInvest():$(".no-login").show()}))}))}))}},k=L,S=(a("7c47"),a("2877")),O=Object(S["a"])(k,r,c,!1,null,"c7d9901a",null),B=O.exports,j={name:"App",components:{Main:B},mounted:function(){var t=this;window.getbackurl=window.GetBackUrl=function(){var e=navigator.appVersion.toLocaleLowerCase();e.indexOf("android")>0&&t.$router.back(-1)}}},P=j,E=(a("258b"),Object(S["a"])(P,i,o,!1,null,null,null)),R=E.exports,F=a("fe3c"),M=a.n(F);M.a.attach(document.body),s.a.config.productionTip=!1,new s.a({render:function(t){return t(R)}}).$mount("#app")},7837:function(t,e,a){},"7b3e":function(t,e){t.exports=local},"7c47":function(t,e,a){"use strict";var n=a("6080"),s=a.n(n);s.a},"7dff":function(t,e){t.exports=file},"8bbf":function(t,e){t.exports=Vue},bf9b:function(t,e){t.exports=ajax},db47:function(t,e,a){t.exports=a.p+"img/empty@2x.6cce.png"}});